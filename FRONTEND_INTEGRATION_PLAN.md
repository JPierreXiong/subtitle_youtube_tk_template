# å‰ç«¯é›†æˆå®æ–½è®¡åˆ’

## ğŸ“‹ éœ€è¦æ›´æ–°çš„å†…å®¹

### 1. å·²åˆ›å»ºçš„æ–‡ä»¶
- âœ… `src/shared/hooks/use-media-task.ts` - è‡ªå®šä¹‰Hookï¼Œå°è£…è½®è¯¢é€»è¾‘
- âœ… `src/app/api/media/video-download/route.ts` - è§†é¢‘ä¸‹è½½URLç”ŸæˆAPI

### 2. éœ€è¦æ›´æ–°çš„æ–‡ä»¶
- `src/shared/blocks/generator/media.tsx` - MediaExtractorç»„ä»¶

---

## ğŸ¯ æ›´æ–°è¦ç‚¹

### 1. ä½¿ç”¨æ–°çš„Hook
- æ›¿æ¢ç°æœ‰çš„è½®è¯¢é€»è¾‘ä¸º `useMediaTask` hook
- ä½¿ç”¨hookæä¾›çš„ `submitTask`, `startTranslation`, `getVideoDownloadUrl` æ–¹æ³•

### 2. ä¸¤é˜¶æ®µå¤„ç†æµç¨‹
- **é˜¶æ®µ1**: æå–ï¼ˆextractionï¼‰
  - çŠ¶æ€: `pending` â†’ `processing` â†’ `extracted`
  - å®Œæˆåæ˜¾ç¤º"å¼€å§‹ç¿»è¯‘"æŒ‰é’®
  
- **é˜¶æ®µ2**: ç¿»è¯‘ï¼ˆtranslationï¼‰
  - çŠ¶æ€: `extracted` â†’ `translating` â†’ `completed`
  - ç”¨æˆ·éœ€è¦é€‰æ‹©ç›®æ ‡è¯­è¨€å¹¶ç‚¹å‡»"å¼€å§‹ç¿»è¯‘"

### 3. 3æŒ‰é’®å¸ƒå±€
- **æŒ‰é’®1 (Source Language)**: åªè¯»ï¼Œæ˜¾ç¤ºæ£€æµ‹åˆ°çš„æºè¯­è¨€
- **æŒ‰é’®2 (Target Language)**: ä¸‹æ‹‰é€‰æ‹©ï¼Œ12ç§è¯­è¨€
- **æŒ‰é’®3 (Output Type)**: ä¸‹æ‹‰é€‰æ‹©ï¼ŒSubtitle/Video

### 4. CSVå¯¼å‡ºåŠŸèƒ½
- å¯¼å‡ºä»»åŠ¡çš„æ‰€æœ‰å…ƒæ•°æ®å’Œå­—å¹•å†…å®¹
- å‰ç«¯çº¯å‡½æ•°å®ç°ï¼Œæ— éœ€åç«¯

### 5. è§†é¢‘ä¸‹è½½
- ä½¿ç”¨é¢„ç­¾åURL
- è°ƒç”¨ `/api/media/video-download` è·å–ä¸‹è½½é“¾æ¥

---

## ğŸ“ å®æ–½æ­¥éª¤

1. æ›´æ–°MediaExtractorç»„ä»¶å¯¼å…¥useMediaTask hook
2. æ›¿æ¢ç°æœ‰çš„çŠ¶æ€ç®¡ç†é€»è¾‘
3. æ›´æ–°UIå¸ƒå±€ä»¥æ”¯æŒ3æŒ‰é’®è®¾è®¡
4. æ·»åŠ ç¿»è¯‘æŒ‰é’®å’Œé€»è¾‘
5. æ·»åŠ CSVå¯¼å‡ºåŠŸèƒ½
6. æ›´æ–°è§†é¢‘ä¸‹è½½é€»è¾‘

---

**å‡†å¤‡å¼€å§‹æ›´æ–°MediaExtractorç»„ä»¶...**


